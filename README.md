# dt-ib-tools
Additional 1C:EDT tools for 1C:Entreprise infobase manipulations

## generate-ib-sync-state
Команда для принудительной генерации состояния синхронизации информационной базы 1С:Предприятия и проекта 1С:EDT для 1C:EDT версий 2025.2+

Данная команда может использоваться для принудительной синхронизации новой информационной базы и заданного состояния проекта 1С:EDT при следующих условиях:
* Новая информационная база являеется полной копией некоторой исходной инфобазы X в состоянии X1 (новая информационная база создана восстановлением дампа исходной информационной базы или проведена полная загрузка cf-файла)
* Исходные коды проекта Y 1С:EDT находится в состоянии Y1
* Ранее проект Y был полностью синхронизирован с оригинальной информационной базой X, и на момент старта и завершения синхронизации они имели состояния соответственно Y1 и X1
В случае, если указанные условия не выполнены полностью или частично, генерируемое состояние синхронизации может и будет приводить к ошибкам синхронизации 1С:EDT и соответствующей информационной базы

Типичные сценарии использования:
* Ранее было создано некоторое опорное состояние проекта 1C:EDT (обычно в виде ветки/коммита/тега в репозитории Git) и соответствующее состояние тестовой информационной базы
* Далее создается рабочая ветка от указанного опорного состояния (ветки/коммита) для проведения каких-то работ
* Также создается новая информационная база (обычно - тестовая), содержимое которой загружается из соответствующего сохраненого состояния
* И для того, чтобы не тратить время на формальную синхронизацию данных проекта и информационной базы (для больших проектов - это серьезные затраты времени), производится прямая замена хранимого состояния синхронизации проекта 1C:EDT и соответствующей информационной базы

Пример:
```
generate-ib-sync-state --project X:/test/bsp --cdi X:/test/ConfigDumpInfo.xml --gen-id 6d1854a9ee07804a820f4a081f6a40e400000000 --ib-uuid 73e63dd3-3285-45a7-b7e5-d113f81dc2be --target X:/test/target 
```

ConfigDumpInfo.xml и GenerationId могут быть получен путем вызова соответствующих команд через CLI конфигуратора 1С:Предприятие (/DumpConfigToFiles -configDumpInfoOnly и  /GetConfigGenerationID соотвественно)

Генерируемое состояние должно быть скопировано в рабочий каталог состояний синхронизации (<UserHome>\AppData\Roaming\.1cedt\ib-sync\ss (или %APPDATA%\.1cedt\ib-sync\ss) для Windows и %user.home%\.1cedt\ib-sync\ss для Linux и Mac) при неактивном процессе 1C:EDT до создания нового приложения для целевого проекта и информационной базы.


